<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no'
	name='viewport' />

<title>Index</title>
<th:block th:include="fragments/cabecera :: cabecera"></th:block>

</head>
<body class="">
	<div class="wrapper ">

		<div th:insert="fragments/menu :: menu-principal"></div>

		<div class="main-panel">
			<!-- Navbar horizontal -->
			<div th:insert="fragments/menuHorizontal :: menu-horizontal"></div>
			<!-- End Navbar -->
			<div class="content">
				<div class="container-fluid">
					<!-- div para formulario de escuelas -->
					<div class="row">
						<div class="col-md-12">
							<div class="card">
								<div class="col-md-12 text-center">
									<h2>Registro de docente</h2>
								</div>
								<div class="card-body">
									<div th:if="${tcDocentes != null}">
										<div class="col-md-12 text-center">
											<h2>Complete los campos para actualizar sus datos</h2>
										</div>
										<form th:action="@{/docente/guardaDocente}" method="post"
											th:object="${tcDocentes}" id="FormDocente">

											<input type="hidden" name="nId" th:field="*{nId}">

											<div class="row">
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">CURP</label> <input
															type="text" class="form-control" th:name="curp"
															th:field="*{sCurp}" readonly="readonly">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">Nombre</label> <input
															type="text" th:field="*{sNombre}" class="form-control"
															readonly="readonly">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">Apellido Paterno</label>
														<input type="text" th:field="*{sPrimerApellido}"
															class="form-control" readonly="readonly">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">Apellido Materno</label>
														<input type="text" th:field="*{sSegundoApellido}"
															class="form-control" readonly="readonly">
													</div>
												</div>

											</div>
											<div class="row">
												<div class="col-md-2">
													<div class="form-group">
														<label class="bmd-label-floating">*Sexo</label> <select
															class="selectpicker" data-style="select-with-transition"
															data-size="7" th:field="*{nIdSexo}" required>
															<option th:each="genero: ${listaGenero}"
																th:value="${genero.nId}" th:text="${genero.sNombre}"></option>
														</select>
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Fecha de
															nacimiento</label> <input type="text"
															th:field="*{sFechaNacimiento}" class="form-control "
															readonly="readonly">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Clave de
															servidor público</label> <input type="text" class="form-control"
															th:field="*{sClaveSerPub}" minlength="9" maxlength="9"
															required="required">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Teléfono</label> <input
															type="tel" class="form-control" th:field="*{sTelefono}"
															minlength="10" maxlength="10" required="required">
													</div>
												</div>
											</div>

											<div class="row">
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Nivel de
															estudios</label> <select class="selectpicker"
															data-style="select-with-transition" id="grado"
															data-size="7" th:field="*{nIdPreProfe}" required>
															<option th:each="preProfe: ${listaPreProfe}"
																th:value="${preProfe.nId}" th:text="${preProfe.sNombre}"></option>
														</select>
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating" id="gradoE"></label> <input
															type="text" id="gradoEI" th:field="*{sNombrePrePro}"
															class="form-control" required="required">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Correo
															electrónico</label> <input type="email" th:field="*{sCorreo}"
															class="form-control" required="required">
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Fecha de
															Ingreso al subsistema</label> <input type="text" id="datePicker"
															th:field="*{sFechaIngresoSubsistema}"
															placeholder="*Fecha de Ingreso al subsistema"
															class="form-control datepicker" required="required">
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-md-3">
													<div class="form-group">
														<label class="bmd-label-floating">*Escuela de
															radicación</label> <select th:field="*{nIdEscuelaRadi}"
															class="selectpicker" data-style="select-with-transition"
															title="Escuela de Radicación" required="required">
															<option th:each="escuela: ${listaEscuelas}"
																th:value="${escuela.tcEscuela.nId}"
																th:text="${escuela.tcEscuela.sNombre}"></option>
														</select>
													</div>
												</div>
												<div class=" col-md-6 form-check">
													<label class="form-check-label"> <input
														class="form-check-input" type="checkbox"
														th:field="*{bPerfil}"> Cuenta con alguna
														licenciatura, maestría o doctorado que cumpla con el
														perfil de Inglés? <span class="form-check-sign"> <span
															class="check"></span>
													</span>
													</label>
												</div>
											</div>
											<br> <br>
											<div class="row col-md-12">
												<div class="col-md-12 text-center">
													<h2>Licencias de trabajo registradas</h2>
												</div>
												<div class="table-responsive">
													<table class="table">
														<thead style="background-color: purple; color: white;">
															<tr class="text-center">

																<th>CCT</th>
																<th>Nombre de la escuela</th>
																<th>Licencia de trabajo</th>
																<th>Tipo de licencia</th>
																<th>Fecha Inicio de licencia</th>
																<th>Fecha Fin Licencia</th>

															</tr>
														</thead>
														<tbody>
															<tr class="text-center"
																th:each="escuela: ${listaEscuelas}">

																<td th:text="${escuela.tcEscuela.sCct}"></td>
																<td th:text="${escuela.tcEscuela.sNombre}"></td>
																<td th:text="${escuela.nTieneLicencia} == 1 ? SI : 'NO'"></td>
																<td
																	th:text="${escuela.nIdTipoLicencia} != 0 ? ${escuela.TcTipoLicencia.sNombre}: 'SIN LICENCIA'  "></td>
																<td th:text="${escuela.dFechaInicioLicencia}"></td>
																<td th:text="${escuela.dFechaFinLicencia}"></td>
															</tr>
														</tbody>
													</table>
												</div>

											</div>


											<br> <br>
											<div class="category form-category">*Campos Requeridos</div>

											<button type="submit" class="btn btn-success pull-right">Actualizar
												Datos</button>
											<br> <br> <br>
											<div th:if="${msg != null}" class='alert alert-danger'
												th:text="${msg}" role='alert'></div>
											<div class="clearfix"></div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<footer>
				<div th:insert="fragments/footer :: footer"></div>
			</footer>
		</div>
	</div>

	<th:block th:include="fragments/scripts :: script"></th:block>

	<!-- Script para agregar nombre a la etiqueta de nombre de preparacion profesional -->
	<script>
		$(document)
				.ready(
						function() {
							var combo = document.getElementById("grado");
							var selected = combo.options[combo.selectedIndex].value;
							//alert(selected);

							if (selected == 1) {
								document.querySelector('#gradoE').innerText = '*nombre de licenciatura';

							} else if (selected == 2) {
								document.querySelector('#gradoE').innerText = '*nombre de la maestría';
							} else if (selected == 3) {
								document.querySelector('#gradoE').innerText = '*nombre del doctorado';
							} else if (selected == 4) {
								document.querySelector('#gradoE').innerText = '*nombre de otros estudios';
							} else {
								document.querySelector('#gradoE').innerText = '*seleccione una preparación profesional';
							}

							$("#grado")
									.change(
											function() {

												var select = $("#grado").val();

												if (select == 1) {
													document
															.querySelector('#gradoE').innerText = 'nombre de licenciatura';
													$("#gradoEI").val('');
												} else if (select == 2) {
													document
															.querySelector('#gradoE').innerText = 'nombre de la maestría';
													$("#gradoEI").val('');
												} else if (select == 3) {
													document
															.querySelector('#gradoE').innerText = 'nombre del doctorado';
													$("#gradoEI").val('');
												} else {
													document
															.querySelector('#gradoE').innerText = 'nombre de otros estudios';
													$("#gradoEI").val('');
												}

											});

						});
	</script>


</body>


</html>